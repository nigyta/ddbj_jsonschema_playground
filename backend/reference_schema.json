{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "DDBJ JSON Schema Example for REFERENCE",
    "description": "Example of json schema for REFERENCE in DDBJ submission template",
    "type": "object",
    "properties" :{
        "title": {
            "name": "title",
            "title": "Reference Title",
            "qualifier": "title",
            "feature": "REFERENCE",
            "entry": "COMMON",
            "type": "string",
            "pattern": "^[A-Za-z0-9 ]*$",
            "example": "Mouse Genome Sequencing",
            "help": "Title of the paper associated to the submission."
        },
        "author": {
            "name": "author",
            "title": "Author",
            "qualifier": "keyword",
            "feature": "REFERENCE",
            "entry": "COMMON",
            "type": "array",
            "items": {
                "type": "string",
                "pattern": "^[A-Za-z0-9',\\.\\-]*$"
            },
            "example": ["Robertson,G.R.", "Mishima,H."],
            "minItems": 1,
            "help": "Keyword for the data division. Optional. For example, WGS, TSA, GSS, EST, etc."
        },
        "status": {
            "name": "status",
            "title": "Status",
            "qualifier": "status",
            "feature": "REFERENCE",
            "entry": "COMMON",
            "type": "string",
            "enum": ["Unpublished", "In press", "Published"],
            "example": "WGS",
            "help": "Reference status",
            "default": "Unpublished"
        },
        "year": {
            "name": "year",
            "title": "Year",
            "qualifier": "year",
            "feature": "REFERENCE",
            "entry": "COMMON",
            "type": "integer",
            "minimum": 1980,
            "maximum": 2100,
            "example": "2024",
            "help": "Reference year"           
        }
    },
    "required": ["title", "author", "status", "year"],    
    "dependencies": {
        "status": {
            "oneOf": [
                {
                    "properties": {
                        "status": {
                            "enum": ["Unpublished"]
                        }
                    }
                },
                {
                    "properties": {
                        "status": {
                            "enum": ["In press"]
                        },
                        "journal": {
                            "name": "journal",
                            "title": "Journal",
                            "qualifier": "journal",
                            "feature": "REFERENCE",
                            "entry": "COMMON",
                            "type": "string",
                            "pattern": "^[A-Za-z0-9',\\.\\- ]*$",
                            "example": "Nature",
                            "help": "Journal name"
                        }
                    },
                    "required": ["journal"]
                },
                {
                    "properties": {
                        "status": {
                            "enum": ["Published"]
                        },
                        "journal": {
                            "name": "journal",
                            "title": "Journal",
                            "qualifier": "journal",
                            "feature": "REFERENCE",
                            "entry": "COMMON",
                            "type": "string",
                            "pattern": "^[A-Za-z0-9',\\.\\- ]*$",
                            "example": "Nature",
                            "help": "Journal name"
                        },
                        "volume": {
                            "title": "Volume",
                            "type": "string",
                            "pattern": "^[A-Za-z0-9',\\.\\- ]*$"
                        },
                        "start_page": {
                            "title": "Start page",
                            "type": "string",
                            "pattern": "^[A-Za-z0-9',\\.\\- ]*$"
                        },
                        "end_page": {
                            "title": "End page",
                            "type": "string",
                            "pattern": "^[A-Za-z0-9',\\.\\- ]*$"
                        },
                        "pubmed_id": {
                            "title": "PubMed ID (optional)",
                            "type": "string",
                            "pattern": "^[0-9]*$"
                        },
                        "test": {
                            "type":"array",
                            "items": {
                                "type": "string",
                                "enum": ["a", "b", "c"]
                                }
                        }                        
                    },
                    "required": ["journal", "volume", "start_page"],
                    "dependencies": {"end_page": ["start_page"]}
                }
            ]
        }
    }   
}
